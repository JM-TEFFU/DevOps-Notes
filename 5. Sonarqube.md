# SonarQube
![sonar-logo-horizontal](https://github.com/user-attachments/assets/647e4868-0bd3-4b44-acc9-ded93ec78ab3)<svg width="256" height="64" viewBox="0 0 256 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M53.3436 27.3993C53.3652 22.3987 52.4257 17.4406 50.5765 12.7945C50.1937 12.9514 49.9182 13.0969 49.7192 13.1964C49.312 13.4075 48.9791 13.738 48.765 14.1436C48.5509 14.5493 48.4658 15.0106 48.5212 15.4659C48.7564 17.4987 48.8766 19.5432 48.881 21.5895C48.881 30.9433 45.8613 39.9144 40.3769 46.8494C35.1909 53.4055 28.233 57.6231 20.6665 58.8287L20.7315 58.867C22.9163 60.1079 25.3713 60.796 27.8827 60.8713C30.3941 60.9467 32.8859 60.4071 35.1412 59.2995C45.8192 54.0638 53.3436 41.7362 53.3436 27.3993Z" fill="#FD3456"/>
<path d="M55.4294 11.8415C54.7661 11.8234 54.1025 11.8656 53.4469 11.9678C55.3652 16.8856 56.3402 22.1207 56.3212 27.3993C56.3212 43.4738 47.3654 57.738 34.2915 62.9392C34.9498 62.9813 35.6157 63.0081 36.2855 63.0081H36.385C39.5002 62.9942 42.5732 62.2866 45.3808 60.9367C48.1884 59.5869 50.6601 57.6287 52.6164 55.2043C57.6224 49.008 60.6957 40.6607 60.6957 31.5098C60.7431 24.5991 58.9236 17.8039 55.4294 11.8415V11.8415Z" fill="#FD3456"/>
<path d="M67.7677 31.5098C67.7729 27.3658 66.9573 23.2619 65.368 19.4348C64.6767 17.7166 63.6472 16.1548 62.3407 14.8421C61.6395 14.135 60.8388 13.5342 59.964 13.0586C59.742 12.9438 59.5162 12.8404 59.298 12.7448C62.1863 18.5731 63.6787 24.9936 63.6573 31.4983C63.6573 40.7985 60.6261 49.7581 55.2373 56.6319C59.13 53.702 62.2883 49.9073 64.4629 45.5474C66.6376 41.1876 67.7689 36.3819 67.7677 31.5098V31.5098Z" fill="#FD3456"/>
<path d="M58.8813 9.56814C55.9524 6.53916 52.4437 4.13095 48.5642 2.48709C44.6847 0.843234 40.5139 -0.002607 36.3005 6.03584e-06C18.8941 6.03584e-06 4.62992 14.4211 4.80597 31.8275C4.84353 35.9542 5.69545 40.0329 7.31284 43.8297C6.7941 43.7608 6.27025 43.7377 5.74746 43.7608C4.3352 43.8259 2.33742 43.3169 1.43419 43.0643C0.530954 42.8117 -0.276601 43.535 0.0908155 44.377V44.4038C3.21768 51.5646 10.1488 56.2262 16.7661 56.2109C17.2059 56.2109 17.6454 56.1879 18.0827 56.142C33.5793 54.9632 45.8763 39.9183 45.8763 21.5934C45.8763 20.4375 45.8265 19.2894 45.727 18.1489C45.715 18.0113 45.6615 17.8806 45.5736 17.7741C45.4856 17.6677 45.3674 17.5904 45.2346 17.5527C45.1018 17.5149 44.9607 17.5184 44.8299 17.5627C44.6991 17.6069 44.5848 17.6899 44.5022 17.8006V17.8006C40.2157 23.4726 33.8663 33.4464 25.9248 28.249C22.863 26.255 21.2325 21.9646 22.1549 17.5977C23.8083 9.75568 32.9478 4.58506 36.9741 6.20781C37.2879 6.33411 38.4207 6.78572 38.8073 7.81908C39.3967 9.39591 37.6208 10.6934 36.7138 13.4872C35.7378 16.5108 36.289 19.7142 36.9741 19.8558C37.7395 20.0089 39.0216 17.2035 42.183 14.6507C44.4793 12.8022 46.2092 12.2817 47.2962 10.3183C48.3448 8.40465 46.4771 6.38769 47.1125 6.20781C47.7478 6.02793 48.341 8.23243 50.2317 9.32702C51.8123 10.2456 53.2208 9.67147 55.299 9.58727C56.068 9.58177 56.8361 9.64067 57.5953 9.76333C57.5953 9.76333 58.001 9.82074 58.644 9.9547C58.6931 9.96735 58.745 9.9639 58.792 9.94489C58.8391 9.92587 58.8788 9.89227 58.9053 9.84903C58.9319 9.80579 58.9439 9.75518 58.9395 9.70462C58.9352 9.65407 58.9148 9.60623 58.8813 9.56814V9.56814ZM35.4049 33.8482C35.752 33.383 36.2669 33.0713 36.8401 32.9795C37.0885 32.9441 37.3416 32.9598 37.5838 33.0256C37.8259 33.0914 38.0521 33.2059 38.2485 33.3622C39.014 34.0702 38.7882 35.4404 38.1299 36.2288C37.5175 36.956 36.3119 37.4344 35.4738 36.8947C35.2403 36.7141 35.0518 36.4819 34.923 36.2163C34.7942 35.9508 34.7286 35.659 34.7313 35.3638C34.7555 34.7915 34.9962 34.2497 35.4049 33.8482V33.8482Z" fill="#290042"/>
<path d="M84.6771 15.5846C84.6771 15.5846 77.9258 15.5846 77.9258 22.332V30.0248C77.9258 30.0248 77.9258 36.7761 84.6771 36.7761H103.048V44.4689H85.4119C78.7065 44.4689 78.6644 51.2202 78.6644 51.2202H103.423C103.423 51.2202 110.174 51.2202 110.174 44.4689V36.7761C110.174 36.7761 110.174 30.0248 103.423 30.0248H85.0521V22.332H102.309C109.011 22.332 109.06 15.5846 109.06 15.5846H84.6771Z" fill="#290042"/>
<path d="M139.633 15.5846H120.879C114.128 15.5846 114.128 22.332 114.128 22.332V44.4689C114.128 51.2202 120.879 51.2202 120.879 51.2202H139.633C146.384 51.2202 146.384 44.4689 146.384 44.4689V22.332C146.384 15.5846 139.633 15.5846 139.633 15.5846ZM139.25 44.4689H121.262V22.332H139.25V44.4689Z" fill="#290042"/>
<path d="M150.697 15.9597V50.8451H157.824V22.332C157.824 22.332 157.824 15.9597 150.697 15.9597Z" fill="#290042"/>
<path d="M176.206 15.5846H164.571C157.824 15.5846 157.824 22.332 157.824 22.332H175.812V50.8451H182.969V22.332C182.969 15.5846 176.206 15.5846 176.206 15.5846Z" fill="#290042"/>
<path d="M195.147 15.5846H188.395C188.395 22.3014 195.147 22.332 195.147 22.332H212.404V29.2747H194.033C194.033 29.2747 187.282 29.2747 187.282 36.026V44.4689C187.282 44.4689 187.282 51.2202 194.033 51.2202H206.039C206.039 51.2202 212.415 51.2202 212.415 44.4689H194.408V35.7466H212.415V44.4689C212.415 44.4689 212.599 50.8451 219.542 50.8451V22.332C219.542 22.332 219.542 15.5846 212.79 15.5846H195.147Z" fill="#290042"/>
<path d="M224.49 15.9597V50.8451H231.617V22.332C231.617 15.9558 224.49 15.9597 224.49 15.9597Z" fill="#290042"/>
<path d="M238.368 15.5846C231.617 15.5846 231.617 22.332 231.617 22.332H249.249C249.249 22.332 256 22.332 256 15.5846H238.368Z" fill="#290042"/>
</svg>



SonarQube is an open-source platform which allows static code analysis and code quality management. Early in the software development lifecycle, it is intended to assist developers and development teams in locating and resolving code bugs. SonarQube provides comprehensive reports with useful insights after analyzing source code for errors, vulnerabilities, code smells, and duplicates.





Here are some key features of SonarQube:

1. **Static Code Analysis**: SonarQube performs static analysis on source code, assessing its structure, grammar, and patterns to uncover potential errors and violations of coding standards.
2. **Code Quality Metrics**: Many code quality indicators, including code coverage, cyclomatic complexity, duplicates, and maintainability index, are computed by SonarQube. Developers can assess the overall quality of their codebase with the use of these metrics.
3. **Issue Tracking**: SonarQube finds and groups problems in the code, including security flaws, bugs, and odors in the code. It offers comprehensive details on every problem, such as the code snippet that is impacted, the degree of severity, and suggested solutions.
4. **Continuous Inspection**: SonarQube supports continuous integration and continuous delivery (CI/CD) workflows by integrating with popular build tools and version control systems. It can be seamlessly integrated into the development pipeline to automatically analyze code with every build.
- **Custom Rules and Quality Profiles**: SonarQube allows you to define custom coding rules and quality profiles to align with your project's specific requirements and coding standards. This helps enforce consistent code quality across your development team.

- **Integrations**: SonarQube integrates with a wide range of development tools and IDEs, enabling developers to receive real-time feedback on code quality while they write code. It also integrates with popular CI/CD platforms to provide continuous inspection throughout the software development process.

By using SonarQube, development teams can proactively identify and address code issues, improve code maintainability, enhance security, and ensure adherence to coding standards. It helps foster a culture of quality within development teams and promotes the delivery of robust and reliable software.
```

--- Docker Installation ---

sudo apt-get update
sudo apt-get install ca-certificates curl gnupg

sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg

echo \
  "deb [arch="$(dpkg --print-architecture)" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  "$(. /etc/os-release && echo "$VERSION_CODENAME")" stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

sudo apt-get update

sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

sudo apt install docker-compose

service docker restart
sudo usermod -aG docker $USER
newgrp docker
sudo chmod 666 /var/run/docker.sock
sudo systemctl restart docker


# TO ISNTALL SONARQUBE USING DOCKER RUN BELOW COMMAND  
docker run -d --name sonar -p 9000:9000 sonarqube:lts-community

```

## Real World Scenario: Code Quality Assessment and Continuous Improvement

### Background
A software development team is working on a complex web application project with multiple developers contributing code. The team wants to ensure code quality and identify and address any code issues early in the development process. They decide to incorporate SonarQube into their workflow to achieve these goals.

### Steps

### 1. **Integration with CI/CD Pipeline:**  
   The team integrates SonarQube into their CI/CD pipeline, ensuring that code analysis is performed automatically with every build. They configure their build tool to trigger SonarQube analysis after the code compilation step.

### 2. **Static Code Analysis:**  
   During each build, SonarQube performs static code analysis on the source code. It scans the codebase for bugs, vulnerabilities, code smells, and code duplications.

### 3. **Quality Reports and Dashboards:**  
   SonarQube generates detailed quality reports and provides a dashboard that highlights code issues, quality metrics, and trends over time. The team can easily access these reports to gain insights into the codebase's overall quality and track improvements.

### 4. **Issue Management:**  
   SonarQube categorizes code issues by severity and provides detailed information about each issue. The team can prioritize and address critical issues promptly to prevent potential bugs and security vulnerabilities.

### 5. **Code Review and Collaboration:**  
   SonarQube facilitates code review and collaboration within the team. Developers can review the SonarQube reports, identify areas for improvement, and discuss solutions to address code issues.

### 6. **Enforcement of Coding Standards:**  
   SonarQube enforces coding standards by checking code against predefined rules and quality profiles. The team configures SonarQube to match their project's specific requirements and coding standards, ensuring consistent code quality across the development team.

### 7. **Continuous Improvement:**  
   With SonarQube's insights and reports, the team continuously improves the code quality. They identify recurring issues, refactor code, and apply best practices to prevent similar issues in the future.

### 8. **Monitoring Code Quality Trends:**  
   The team regularly monitors code quality trends using SonarQube's reports and dashboards. They can identify improvements or regressions in code quality over time and take appropriate actions to maintain or enhance the overall quality.

By incorporating SonarQube into their development workflow, the team can proactively identify and address code issues, improve code maintainability, enhance security, and adhere to coding standards. SonarQube helps the team foster a culture of quality and continuous improvement, leading to the delivery of robust and reliable software.

### To make sure code coverage works fine add below things in your pom file at respective places or use my Repo

Here's the POM format with the added items for enabling code coverage with JaCoCo:

```xml
<project>
    <!-- Other project configuration -->

    <properties>
        <!-- JaCoCo Properties -->
        <jacoco.version>0.8.6</jacoco.version>
        <sonar.java.coveragePlugin>jacoco</sonar.java.coveragePlugin>
        <sonar.dynamicAnalysis>reuseReports</sonar.dynamicAnalysis>
        <sonar.jacoco.reportPath>${project.basedir}/../target/jacoco.exec</sonar.jacoco.reportPath>
        <sonar.language>java</sonar.language>
    </properties>

    <!-- Other dependencies -->

    <dependencies>
        <!-- Other dependencies -->

        <dependency>
            <groupId>org.jacoco</groupId>
            <artifactId>jacoco-maven-plugin</artifactId>
            <version>0.8.6</version>
        </dependency>

        <!-- Other dependencies -->
    </dependencies>

    <!-- Other plugin configurations -->

    <build>
        <plugins>
            <!-- Other plugins -->

            <plugin>
                <groupId>org.jacoco</groupId>
                <artifactId>jacoco-maven-plugin</artifactId>
                <version>${jacoco.version}</version>
                <executions>
                    <execution>
                        <id>jacoco-initialize</id>
                        <goals>
                            <goal>prepare-agent</goal>
                        </goals>
                    </execution>
                    <execution>
                        <id>jacoco-site</id>
                        <phase>package</phase>
                        <goals>
                            <goal>report</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

            <!-- Other plugins -->
        </plugins>
    </build>

    <!-- Other project configuration -->
</project>
```

Make sure to include this code snippet within the `<project>` tags of your existing POM file, and adjust any other project-specific configurations as needed.

### Jenkins pipeline to run SOnar analysis

```powershell
pipeline {
    agent any
    
    tools {
        jdk 'jdk11'
        maven 'maven3'
    }
    
    environment {
        SCANNER_HOME = tool 'sonar-scanner'
    }
    
    stages {
        stage('Checkout') {
            steps {
                # Checkout your Java project from version control
                # For example:
                # git 'https://github.com/your-repo/java-project.git'
            }
        }
        
        stage('Build') {
            steps {
                # Build your Java project
                # For example:
                # sh 'mvn clean install'
            }
        }
        
        stage('SonarQube Analysis') {
            steps {
                # Run SonarQube analysis
                # Make sure you have SonarQube configured in Jenkins and provide the correct SonarQube server credentials
                
                
                
                # Or using the SonarQube Scanner for Maven:
                # sh 'mvn sonar:sonar'
            }
        }
        
        stage('Deploy to Tomcat') {
            steps {
                # Additional steps to deploy your Java project
                Invoke-Expression "sudo cp target/*war apache-tomcat-path/webapps"
            }
        }
    }
}
```
### Once the pipeline is success you will get the results in sonarqube as below.
